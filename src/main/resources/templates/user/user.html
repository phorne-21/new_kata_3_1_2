<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>User Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        .user-info-card {
            max-width: 800px;
            margin: 20px auto;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .logout-btn {
            position: absolute;
            top: 15px;
            right: 15px;
        }
    </style>
</head>
<body class="bg-light">
<!-- Шапка с email пользователя и кнопкой Logout -->
<div class="bg-dark text-white p-3 position-relative">
    <div class="container">
        <span class="me-2" th:text="${user.email}"></span>
        <span>with roles: </span>
        <span th:each="role, stat : ${user.roles}"
              th:text="${role.name.substring(5)} + (${not stat.last} ? ', ' : '')"></span>

        <!-- Кнопка Logout справа -->
        <form th:action="@{/logout}" method="post" class="logout-btn">
            <button type="submit" class="btn btn-outline-light btn-sm">
                <i class="bi bi-box-arrow-right"></i> Logout
            </button>
        </form>
    </div>
</div>

<!-- Основной контент -->
<div class="container mt-5">
    <div class="user-info-card card p-4">
        <h2 class="mb-4">User information</h2>
        <h4 class="mb-3 text-muted">About user</h4>

        <table class="table table-bordered">
            <thead class="table-dark">
            <tr>
                <th>ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Age</th>
                <th>Email</th>
                <th>Role</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td th:text="${user.id}">3</td>
                <td th:text="${user.username}">user</td>
                <td th:text="${user.lastname}">user</td>
                <td th:text="${user.age}">30</td>
                <td th:text="${user.email}">user@mail.ru</td>
                <td>
                            <span th:each="role, stat : ${user.roles}"
                                  th:text="${role.name.substring(5)} + (${not stat.last} ? ', ' : '')"></span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8"/>-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1">-->
<!--    <title>User</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"-->
<!--          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->
<!--    &lt;!&ndash; Ваш кастомный CSS (должен идти ПОСЛЕ Bootstrap) &ndash;&gt;-->
<!--    <link href="css/custom.css" rel="stylesheet">-->
<!--</head>-->
<!--<body>-->
<!--<nav class="navbar navbar-dark bg-dark">-->
<!--    <form>-->
<!--        <span style="color: white"-->
<!--              th:utext="${user.email}"></span>-->
<!--        <span style="color: white"> with roles:</span>-->
<!--        <span style="color: white"-->
<!--              th:each="role, stat : ${user.roles}"-->
<!--              th:text="${role.name.substring(5)} + (${not stat.last} ? ', ' : '')">-->
<!--        </span>-->
<!--    </form>-->
<!--    &lt;!&ndash;    <div class="ms-auto">&ndash;&gt;-->
<!--    &lt;!&ndash;        <form th:action="@{/logout}" method="post" class="d-inline">&ndash;&gt;-->
<!--    &lt;!&ndash;            <button type="submit" class="btn btn-link text-white">&ndash;&gt;-->
<!--    &lt;!&ndash;                <i class="bi bi-box-arrow-right"></i> Logout&ndash;&gt;-->
<!--    &lt;!&ndash;            </button>&ndash;&gt;-->
<!--    &lt;!&ndash;        </form>&ndash;&gt;-->
<!--    &lt;!&ndash;    </div>&ndash;&gt;-->
<!--    <form th:action="@{/logout}" method="post">-->
<!--        <button type="submit" class="btn btn-link text-white p-0 border-0">-->
<!--            Logout-->
<!--        </button>-->
<!--    </form>-->
<!--</nav>-->
<!--<div class="position-fixed start-0" style="width: 230px;">-->
<!--        <div class="d-flex flex-column gap-2">-->
<!--            <a th:href="@{/user}" class="btn btn-primary w-100" style="position: absolute; top: 110px; text-align: left; justify-content: start; padding-left: 10px;">User</a>-->
<!--        </div>-->
<!--    </div>-->
<!--    &lt;!&ndash;    тут будет код для левой плашки&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <h2>User information-page</h2>-->
<!--        <h3>About user</h3>-->
<!--        <div>-->
<!--            &lt;!&ndash;    <table border="1" bgcolor=66CCAA>&ndash;&gt;-->
<!--            &lt;!&ndash;    <table class="table table-striped table-hover">&ndash;&gt;-->

<!--            <table class="table table-striped table-hover">-->
<!--                <thead>-->
<!--                <tr>-->
<!--                    <th>ID</th>-->
<!--                    <th>First Name</th>-->
<!--                    <th>Last Name</th>-->
<!--                    <th>Age</th>-->
<!--                    <th>Email</th>-->
<!--                    <th>Role</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody>-->
<!--                <tr>-->
<!--                    <td th:utext="${user.id}">ID</td>-->
<!--                    <td th:utext="${user.username}">First Name</td>-->
<!--                    <td th:utext="${user.lastname}">Last Name</td>-->
<!--                    <td th:utext="${user.age}">Age</td>-->
<!--                    <td th:utext="${user.email}">Email</td>-->
<!--                    <td>-->
<!--    <span th:each="role, stat : ${user.roles}"-->
<!--          th:text="${role.name.substring(5)} + (${not stat.last} ? ', ' : '')"></span>-->
<!--                    </td>-->
<!--                </tr>-->
<!--                </tbody>-->
<!--            </table>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--&lt;!&ndash;<form method="get">&ndash;&gt;-->
<!--&lt;!&ndash;    <h4>&ndash;&gt;-->
<!--&lt;!&ndash;        User's id:&ndash;&gt;-->
<!--&lt;!&ndash;        <span th:utext="${user.id}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;        <br>&ndash;&gt;-->
<!--&lt;!&ndash;        User's first name:&ndash;&gt;-->
<!--&lt;!&ndash;        <span th:utext="${user.username}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;        <br>&ndash;&gt;-->
<!--&lt;!&ndash;        <br>&ndash;&gt;-->
<!--&lt;!&ndash;        User's last name:&ndash;&gt;-->
<!--&lt;!&ndash;        <span th:utext="${user.lastname}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;        <br>&ndash;&gt;-->
<!--&lt;!&ndash;        User's email:&ndash;&gt;-->
<!--&lt;!&ndash;        <span th:utext="${user.email}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;        <br>&ndash;&gt;-->
<!--&lt;!&ndash;        User's age:&ndash;&gt;-->
<!--&lt;!&ndash;        <span th:utext="${user.age}"></span>&ndash;&gt;-->
<!--&lt;!&ndash;        <p><strong>Roles:</strong>&ndash;&gt;-->
<!--&lt;!&ndash;            <span th:if="${user?.roles}"&ndash;&gt;-->
<!--&lt;!&ndash;                  th:each="role : ${user.roles}"&ndash;&gt;-->
<!--&lt;!&ndash;                  th:text="${role.name.substring(5)} + ' '"></span>&ndash;&gt;-->
<!--&lt;!&ndash;            <span th:unless="${user?.roles}">N/A</span>&ndash;&gt;-->
<!--&lt;!&ndash;        </p>&ndash;&gt;-->
<!--&lt;!&ndash;    </h4>&ndash;&gt;-->
<!--&lt;!&ndash;</form>&ndash;&gt;-->

<!--&lt;!&ndash; Bootstrap JS + Popper &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->

<!--&lt;!&ndash; Ваши скрипты &ndash;&gt;-->
<!--<script src="js/custom.js"></script>-->
<!--</body>-->
<!--</html>-->
